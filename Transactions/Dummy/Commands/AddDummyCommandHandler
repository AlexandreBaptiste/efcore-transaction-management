namespace Transactions.Dummy.Commands;

public class AddDummyCommandHandler(ITransactionService transactionService) : IRequestHandler<AddDummyCommand, Guid>
{
    public async Task<bool> Handle(AddDummyCommand request, CancellationToken cancellationToken)
    {
        return await transactionService.ExecuteInTransactionAsync(async =>
        {
            // Here add operations to be executed within the transaction
            // e.g., adding a new Dummy entity to the context and retun the guid

            return Guid.NewGuid();
        });        
    }
}